<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ship Slot Configuration Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            font-family: 'Orbitron', monospace;
            color: #00ffff;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid #00ffff;
        }
        
        .slot-mapping {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .slot-info {
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid #00ffff;
            border-radius: 8px;
            padding: 15px;
        }
        
        .slot-header {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #00ffff;
        }
        
        .slot-icon {
            font-size: 1.5em;
        }
        
        .card-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .card-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }
        
        .card-item:last-child {
            border-bottom: none;
        }
        
        .card-icon {
            font-size: 1.1em;
        }
        
        .card-name {
            flex: 1;
            font-size: 0.9em;
        }
        
        .test-result {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        
        .test-success {
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid #00ff00;
            color: #00ff00;
        }
        
        .test-error {
            background: rgba(255, 0, 0, 0.2);
            border: 1px solid #ff0000;
            color: #ff0000;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üöÄ Ship Slot Configuration Test</h1>
        <p>Testing the new ship slot configuration where:</p>
        <ul>
            <li><strong>Hull Plating</strong> ‚Üí Armor Slot (üõ°Ô∏è)</li>
            <li><strong>Shield Generators & Reactors</strong> ‚Üí Power Core Slot (‚ö°)</li>
            <li><strong>All card icons match their target slots</strong></li>
        </ul>
        
        <div id="test-results"></div>
        
        <h2>üìã Slot Configuration Mapping</h2>
        <div class="slot-mapping" id="slot-mapping"></div>
        
        <h2>üß™ Icon Consistency Test</h2>
        <div id="icon-test-results"></div>
    </div>

    <script type="module">
        import { CARD_TYPES, CARD_DISPLAY_NAMES, CARD_ICONS } from './js/ship/NFTCard.js';
        
        // Define the expected slot configuration
        const SLOT_CONFIGURATION = {
            'Engine': {
                icon: 'üöÄ',
                slotType: CARD_TYPES.IMPULSE_ENGINES,
                acceptedCards: [
                    CARD_TYPES.IMPULSE_ENGINES, CARD_TYPES.WARP_DRIVE,
                    CARD_TYPES.QUANTUM_DRIVE, CARD_TYPES.DIMENSIONAL_SHIFTER, 
                    CARD_TYPES.TEMPORAL_ENGINE, CARD_TYPES.GRAVITY_WELL_DRIVE
                ]
            },
            'Armor': {
                icon: 'üõ°Ô∏è',
                slotType: CARD_TYPES.HULL_PLATING,
                acceptedCards: [
                    CARD_TYPES.HULL_PLATING,
                    CARD_TYPES.PHASE_SHIELD, CARD_TYPES.ADAPTIVE_ARMOR, 
                    CARD_TYPES.QUANTUM_BARRIER, CARD_TYPES.TEMPORAL_DEFLECTOR
                ]
            },
            'Power Core': {
                icon: '‚ö°',
                slotType: CARD_TYPES.ENERGY_REACTOR,
                acceptedCards: [
                    CARD_TYPES.ENERGY_REACTOR, CARD_TYPES.SHIELD_GENERATOR, CARD_TYPES.SHIELDS,
                    CARD_TYPES.QUANTUM_REACTOR, CARD_TYPES.DARK_MATTER_CORE, 
                    CARD_TYPES.ANTIMATTER_GENERATOR, CARD_TYPES.CRYSTALLINE_MATRIX
                ]
            },
            'Weapon': {
                icon: '‚öîÔ∏è',
                slotType: CARD_TYPES.LASER_CANNON,
                acceptedCards: [
                    CARD_TYPES.LASER_CANNON, CARD_TYPES.PLASMA_CANNON, CARD_TYPES.PULSE_CANNON,
                    CARD_TYPES.PHASER_ARRAY, CARD_TYPES.DISRUPTOR_CANNON, CARD_TYPES.PARTICLE_BEAM,
                    CARD_TYPES.MISSILE_TUBES, CARD_TYPES.TORPEDO_LAUNCHER,
                    CARD_TYPES.ION_STORM_CANNON, CARD_TYPES.GRAVITON_BEAM, CARD_TYPES.QUANTUM_TORPEDO,
                    CARD_TYPES.SINGULARITY_LAUNCHER, CARD_TYPES.VOID_RIPPER, CARD_TYPES.NANITE_SWARM
                ]
            },
            'Sensors': {
                icon: 'üì°',
                slotType: CARD_TYPES.LONG_RANGE_SCANNER,
                acceptedCards: [
                    CARD_TYPES.LONG_RANGE_SCANNER, CARD_TYPES.GALACTIC_CHART,
                    CARD_TYPES.QUANTUM_SCANNER, CARD_TYPES.PRECOGNITION_ARRAY, 
                    CARD_TYPES.DIMENSIONAL_RADAR, CARD_TYPES.PSIONIC_AMPLIFIER, CARD_TYPES.NEURAL_INTERFACE
                ]
            },
            'Communications': {
                icon: 'üí¨',
                slotType: CARD_TYPES.SUBSPACE_RADIO,
                acceptedCards: [
                    CARD_TYPES.SUBSPACE_RADIO,
                    CARD_TYPES.VORTHAN_MIND_LINK, CARD_TYPES.NEXUS_HARMONIZER, CARD_TYPES.ETHEREAL_CONDUIT
                ]
            },
            'Targeting': {
                icon: 'üéØ',
                slotType: CARD_TYPES.TARGET_COMPUTER,
                acceptedCards: [
                    CARD_TYPES.TARGET_COMPUTER,
                    CARD_TYPES.ZEPHYRIAN_CRYSTAL,
                    CARD_TYPES.PROBABILITY_DRIVE, CARD_TYPES.CHAOS_FIELD_GEN, 
                    CARD_TYPES.REALITY_ANCHOR, CARD_TYPES.ENTROPY_REVERSER
                ]
            },
            'Cargo Hold': {
                icon: 'üì¶',
                slotType: CARD_TYPES.CARGO_HOLD,
                acceptedCards: [CARD_TYPES.CARGO_HOLD]
            }
        };
        
        function runTests() {
            const results = [];
            let iconErrors = [];
            
            // Test 1: Verify Hull Plating goes to Armor slot
            const hullPlatingShouldGoToArmor = SLOT_CONFIGURATION['Armor'].acceptedCards.includes(CARD_TYPES.HULL_PLATING);
            results.push({
                test: 'Hull Plating ‚Üí Armor Slot',
                passed: hullPlatingShouldGoToArmor,
                message: hullPlatingShouldGoToArmor ? 'Hull Plating correctly goes to Armor slot' : 'ERROR: Hull Plating not in Armor slot'
            });
            
            // Test 2: Verify Shield Generator goes to Power Core slot
            const shieldGenShouldGoToPowerCore = SLOT_CONFIGURATION['Power Core'].acceptedCards.includes(CARD_TYPES.SHIELD_GENERATOR);
            results.push({
                test: 'Shield Generator ‚Üí Power Core Slot',
                passed: shieldGenShouldGoToPowerCore,
                message: shieldGenShouldGoToPowerCore ? 'Shield Generator correctly goes to Power Core slot' : 'ERROR: Shield Generator not in Power Core slot'
            });
            
            // Test 3: Verify Energy Reactor goes to Power Core slot
            const energyReactorShouldGoToPowerCore = SLOT_CONFIGURATION['Power Core'].acceptedCards.includes(CARD_TYPES.ENERGY_REACTOR);
            results.push({
                test: 'Energy Reactor ‚Üí Power Core Slot',
                passed: energyReactorShouldGoToPowerCore,
                message: energyReactorShouldGoToPowerCore ? 'Energy Reactor correctly goes to Power Core slot' : 'ERROR: Energy Reactor not in Power Core slot'
            });
            
            // Test 4: Icon consistency test
            for (const [slotName, slotConfig] of Object.entries(SLOT_CONFIGURATION)) {
                for (const cardType of slotConfig.acceptedCards) {
                    const cardIcon = CARD_ICONS[cardType];
                    const expectedIcon = slotConfig.icon;
                    
                    if (cardIcon !== expectedIcon) {
                        iconErrors.push({
                            cardType,
                            cardName: CARD_DISPLAY_NAMES[cardType] || cardType,
                            slotName,
                            expectedIcon,
                            actualIcon: cardIcon,
                            message: `${CARD_DISPLAY_NAMES[cardType] || cardType} has icon ${cardIcon} but should have ${expectedIcon} for ${slotName} slot`
                        });
                    }
                }
            }
            
            results.push({
                test: 'Icon Consistency',
                passed: iconErrors.length === 0,
                message: iconErrors.length === 0 ? 'All card icons match their target slots' : `${iconErrors.length} icon mismatches found`
            });
            
            return { results, iconErrors };
        }
        
        function displayResults() {
            const { results, iconErrors } = runTests();
            
            // Display test results
            const resultsContainer = document.getElementById('test-results');
            resultsContainer.innerHTML = results.map(result => `
                <div class="test-result ${result.passed ? 'test-success' : 'test-error'}">
                    ${result.passed ? '‚úÖ' : '‚ùå'} ${result.test}: ${result.message}
                </div>
            `).join('');
            
            // Display slot mapping
            const slotMappingContainer = document.getElementById('slot-mapping');
            slotMappingContainer.innerHTML = Object.entries(SLOT_CONFIGURATION).map(([slotName, slotConfig]) => `
                <div class="slot-info">
                    <div class="slot-header">
                        <span class="slot-icon">${slotConfig.icon}</span>
                        <span>${slotName}</span>
                    </div>
                    <ul class="card-list">
                        ${slotConfig.acceptedCards.map(cardType => `
                            <li class="card-item">
                                <span class="card-icon">${CARD_ICONS[cardType] || '‚ùì'}</span>
                                <span class="card-name">${CARD_DISPLAY_NAMES[cardType] || cardType}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `).join('');
            
            // Display icon errors if any
            const iconTestContainer = document.getElementById('icon-test-results');
            if (iconErrors.length > 0) {
                iconTestContainer.innerHTML = `
                    <div class="test-result test-error">
                        ‚ùå Found ${iconErrors.length} icon mismatches:
                        <ul style="margin-top: 10px;">
                            ${iconErrors.map(error => `<li>${error.message}</li>`).join('')}
                        </ul>
                    </div>
                `;
            } else {
                iconTestContainer.innerHTML = `
                    <div class="test-result test-success">
                        ‚úÖ All card icons correctly match their target slot icons!
                    </div>
                `;
            }
        }
        
        // Run tests when page loads
        displayResults();
    </script>
</body>
</html> 