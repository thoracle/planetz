<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warp Drive Utility Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            font-family: 'Orbitron', monospace;
            color: #00ffff;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid #00ffff;
        }
        
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            border: 1px solid #333;
        }
        
        .result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .pass {
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid #00ff00;
            color: #00ff00;
        }
        
        .fail {
            background: rgba(255, 0, 0, 0.2);
            border: 1px solid #ff0000;
            color: #ff0000;
        }
        
        .info {
            background: rgba(0, 255, 255, 0.2);
            border: 1px solid #00ffff;
            color: #00ffff;
        }
        
        .card-demo {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            border: 1px solid #666;
        }
        
        .icon {
            font-size: 24px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîß Warp Drive Utility Category Test</h1>
        <p>Testing that warp drives are now correctly categorized as utility items.</p>
        
        <div class="test-section">
            <h2>Test Results</h2>
            <div id="test-results"></div>
        </div>
        
        <div class="test-section">
            <h2>Card Icon Verification</h2>
            <div id="icon-verification"></div>
        </div>
        
        <div class="test-section">
            <h2>Slot Compatibility Test</h2>
            <div id="slot-compatibility"></div>
        </div>
        
        <div class="test-section">
            <h2>Category Mapping Test</h2>
            <div id="category-mapping"></div>
        </div>
    </div>

    <script type="module">
        import { CARD_TYPES, CARD_ICONS } from './js/ship/NFTCard.js';
        import CardInventoryUI from './js/ui/CardInventoryUI.js';
        
        function runTests() {
            const results = document.getElementById('test-results');
            const iconVerification = document.getElementById('icon-verification');
            const slotCompatibility = document.getElementById('slot-compatibility');
            const categoryMapping = document.getElementById('category-mapping');
            
            let allTestsPassed = true;
            
            // Test 1: Check warp drive icon
            const warpDriveIcon = CARD_ICONS[CARD_TYPES.WARP_DRIVE];
            const expectedIcon = 'üîß';
            const iconTest = warpDriveIcon === expectedIcon;
            
            iconVerification.innerHTML = `
                <div class="result ${iconTest ? 'pass' : 'fail'}">
                    <strong>Icon Test:</strong> Warp Drive icon is ${warpDriveIcon} 
                    ${iconTest ? '‚úÖ PASS' : '‚ùå FAIL (expected üîß)'}
                </div>
                <div class="card-demo">
                    <span class="icon">${warpDriveIcon}</span>
                    <span>Warp Drive</span>
                </div>
            `;
            
            if (!iconTest) allTestsPassed = false;
            
            // Test 2: Check slot compatibility
            const cardInventoryUI = new CardInventoryUI('test-container');
            const mockWarpDriveCard = { cardType: CARD_TYPES.WARP_DRIVE };
            
            const canGoInUtility = cardInventoryUI.isValidCardForSlot(mockWarpDriveCard, 'utility');
            const canGoInEngine = cardInventoryUI.isValidCardForSlot(mockWarpDriveCard, 'engine');
            
            slotCompatibility.innerHTML = `
                <div class="result ${canGoInUtility ? 'pass' : 'fail'}">
                    <strong>Utility Slot:</strong> Warp Drive can go in utility slot 
                    ${canGoInUtility ? '‚úÖ PASS' : '‚ùå FAIL'}
                </div>
                <div class="result ${!canGoInEngine ? 'pass' : 'fail'}">
                    <strong>Engine Slot:</strong> Warp Drive cannot go in engine slot 
                    ${!canGoInEngine ? '‚úÖ PASS' : '‚ùå FAIL'}
                </div>
            `;
            
            if (!canGoInUtility || canGoInEngine) allTestsPassed = false;
            
            // Test 3: Check category mapping
            const warpDriveCategory = cardInventoryUI.getCardCategory(CARD_TYPES.WARP_DRIVE);
            const expectedCategory = 'utility';
            const categoryTest = warpDriveCategory === expectedCategory;
            
            categoryMapping.innerHTML = `
                <div class="result ${categoryTest ? 'pass' : 'fail'}">
                    <strong>Category Test:</strong> Warp Drive category is "${warpDriveCategory}" 
                    ${categoryTest ? '‚úÖ PASS' : `‚ùå FAIL (expected "${expectedCategory}")`}
                </div>
            `;
            
            if (!categoryTest) allTestsPassed = false;
            
            // Overall result
            results.innerHTML = `
                <div class="result ${allTestsPassed ? 'pass' : 'fail'}">
                    <h3>${allTestsPassed ? '‚úÖ ALL TESTS PASSED' : '‚ùå SOME TESTS FAILED'}</h3>
                    <p>Warp drives are ${allTestsPassed ? 'correctly' : 'not correctly'} configured as utility items.</p>
                </div>
            `;
            
            // Additional info
            const additionalInfo = document.createElement('div');
            additionalInfo.className = 'result info';
            additionalInfo.innerHTML = `
                <h4>üìã Test Summary:</h4>
                <ul>
                    <li>Icon Test: ${iconTest ? 'PASS' : 'FAIL'}</li>
                    <li>Utility Slot Compatibility: ${canGoInUtility ? 'PASS' : 'FAIL'}</li>
                    <li>Engine Slot Exclusion: ${!canGoInEngine ? 'PASS' : 'FAIL'}</li>
                    <li>Category Mapping: ${categoryTest ? 'PASS' : 'FAIL'}</li>
                </ul>
                <p><strong>Next Step:</strong> ${allTestsPassed ? 'Test in the main card inventory UI!' : 'Check the configuration files for issues.'}</p>
            `;
            results.appendChild(additionalInfo);
        }
        
        // Run tests when page loads
        document.addEventListener('DOMContentLoaded', runTests);
    </script>
</body>
</html> 